# 2026-02-28 – Governance Setup & Database Initialization

## Duration
~2 hours

---

## Objective

1. Establish professional project structure and engineering discipline for GrihaLedger.
2. Initialize PostgreSQL development environment and project database.

---

# Part 1 – Project Structuring & Governance Setup

## Work Completed

- Finalized project name: **GrihaLedger**
- Defined project positioning as a fintech SaaS-style data platform
- Created structured repository layout:
  - src/
  - sql/
  - tests/
  - docs/
  - scripts/
- Established development discipline guidelines
- Defined commit message standard (Conventional Commits)
- Defined single-branch policy (main must always remain runnable)
- Defined execution tracking approach:
  - Google Sheet for time & gap detection
  - GitHub commits as proof of work

## Decisions Locked

- March 2026 focus: Core transactional system only
- No Docker, dbt, or Airflow in Phase 1
- System must remain runnable at all times
- Minimum 3 commits per week
- Daily execution logging mandatory

---

# Part 2 – PostgreSQL Troubleshooting & Database Setup

## Issue Encountered

Attempted to connect using:

    psql -U postgres

Error:

    connection to server at "localhost", port 5432 failed: Connection refused

---

## Investigation Performed

1. Verified PostgreSQL service via Windows Services.
   - Service was running.

2. Checked if port 5432 was listening:

       netstat -ano | findstr 5432

   - No output → nothing listening on 5432.

3. Attempted alternate port:

       psql -p 5433 -U postgres

   - Connection successful.

4. Checked PostgreSQL configuration file:

   File:
       C:\Program Files\PostgreSQL\18\data\postgresql.conf

   Found:
       port = 5433
       listen_addresses = 'localhost'

---

## Root Cause

PostgreSQL server configured to run on port 5433 instead of default 5432.

---

## Resolution

Connected using:

    psql -p 5433 -U postgres

Executed:

    CREATE DATABASE grihaledger_dev;
    \c grihaledger_dev
    CREATE SCHEMA raw;

---

## Outcome

- Development database `grihaledger_dev` created.
- Schema `raw` initialized.
- CLI connectivity verified.
- Development environment confirmed operational.

---

## Learning

- `connection refused` often indicates incorrect port.
- Service running does not guarantee correct port binding.
- `netstat` is effective for verifying active listening ports.
- Always verify configuration file before modifying system settings.
- Environment validation must precede schema work.

---

## Next Steps

- Create first table: `raw.households`
- Begin core transactional schema build
- Insert first test row
- Verify via CLI and GUI

Status: In Progress